<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="global.css">
<script id="scoreTemplate" type="text/ractive">
  {{#winner}}
    <div>
      <h2 class="winner winner-name">{{winner}}</h2>
    </div>
  {{/winner}}
  {{#started}}
    <div class="vs">
      <div class="vs-score">
        <span class="vs-score-a">{{score.a}}</span>
        <span class="vs-score-sep">-</span>
        <span class="vs-score-b">{{score.b}}</span>
      </div>
      <div class="vs-players">
        <span class="vs-players-a">{{players.a}}</span>
        <span class="vs-players-b">{{players.b}}</span>
      </div>
    </div>
  {{/started}}
</script>
<script id="adminTemplate" type="text/ractive">
  <ul class="players">
    {{^players}}
      <li>No players</li>
    {{/started}}

      {{#each players:i}}
        <li class="player">
          <input id="player-name-{{i}}" type="checkbox" checked="{{.checked}}">
          <label for="player-name-{{i}}" class="player-name" on-click="playerClicked:{{i}}">
            {{name}}
            <span class="player-name-remove" on-click="remove:{{i}}">X</span>
          </label>
        </li>
      {{/each}}
    </ul>

    <div class="admin-buttons">
      {{^started}}
        <button class="button button--start button--center" on-click="start">Start</button>
      {{/started}}

      {{#started}}
        <button class="button button--stop button--center" on-click="stop">Stop</button>
      {{/started}}
    </div>
  </script>
</head>
  <body>
    <script src="console.js"></script>
    <script src="jquery.min.js"></script>
    <script src="ractive.min.js"></script>
    <script src="api.js"></script>
    <script src="es.js"></script>
    <%- yield %>
    <script>ES.connect();</script>
    <script>
      ES.on('connected', function () {
        $('.score').addClass('score--connected');
        $('.score').removeClass('score--disconnected');
      });
      ES.on('disconnected', function () {
        $('.score').addClass('score--disconnected');
        $('.score').removeClass('score--connected');
      });
    </script>
  </body>
</html>
